{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rainn\\\\Desktop\\\\ReviewBoard\\\\front-end\\\\src\\\\components\\\\map\\\\CreateMap.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport \"../../style/map.scss\";\nimport ImgComponent from \"./../ImageComponent\";\nimport { resetxy, changeSize, currentxy } from \"../../modules/map\";\nimport { MapRamdomAPI } from \"./../../api/MapRamdom\";\nimport { CenterRestaurantAPI } from \"./../../api/CenterRestaurant\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  kakao\n} = window;\nconst CreateMap = props => {\n  _s();\n  const x = useSelector(state => state.map.x);\n  const y = useSelector(state => state.map.y);\n  const currentX = useSelector(state => state.map.currentX);\n  const currentY = useSelector(state => state.map.currentY);\n  const size = useSelector(state => state.map.number);\n  const bigLocation = useSelector(state => state.location.bigLocation);\n  const smallLocation = useSelector(state => state.location.smallLocation);\n  const dispatch = useDispatch();\n  const resetXY = useCallback((x, y) => dispatch(resetxy(x, y)), [dispatch]);\n  const currentXY = useCallback((x, y) => dispatch(currentxy(x, y)), [dispatch]);\n  const ChangeSize = useCallback(number => dispatch(changeSize(number)), [dispatch]);\n  const [_map, setMap] = useState(null);\n  const showURL = useSelector(state => state.urlChange.name);\n\n  //랜덤 값 저장\n  const [randomData, setRandomData] = useState(null);\n  useEffect(() => {\n    MapRamdomAPI(data => {\n      setRandomData(data);\n    }, showURL);\n  }, [showURL]);\n\n  //=========맵 생성=========================\n  useEffect(() => {\n    //랜덤 10개 받아오기 전일 때\n    if (randomData === null) {\n      const mapContainer = document.getElementById(\"map\"),\n        // 지도를 표시할 div\n        mapOption = {\n          center: new kakao.maps.LatLng(x, y),\n          // 지도의 중심좌표\n          level: size // 지도의 확대 레벨\n        };\n\n      // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다\n      const map = new kakao.maps.Map(mapContainer, mapOption);\n      return;\n    }\n    const mapContainer = document.getElementById(\"map\"),\n      // 지도를 표시할 div\n      mapOption = {\n        center: new kakao.maps.LatLng(x, y),\n        // 지도의 중심좌표\n        level: size // 지도의 확대 레벨\n      };\n\n    // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다\n    const map = new kakao.maps.Map(mapContainer, mapOption);\n\n    //=========현재 위치 마커 생성=======================================================================\n    if (navigator.geolocation) {\n      // GeoLocation을 이용해서 접속 위치를 얻어옵니다\n      navigator.geolocation.getCurrentPosition(function (position) {\n        var lat = position.coords.latitude,\n          // 위도\n          lon = position.coords.longitude; // 경도\n        var locPosition = new kakao.maps.LatLng(lat, lon); // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\n        currentXY(lat, lon);\n\n        // 마커와 인포윈도우를 표시합니다\n        displayCurrentMarker(locPosition);\n      });\n    } else {\n      // HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다\n      var locPosition = new kakao.maps.LatLng(x, y),\n        message = \"geolocation을 사용할수 없어요..\";\n      displayCurrentMarker(locPosition, message);\n    }\n\n    // 지도에 마커와 인포윈도우를 표시하는 함수입니다\n    //마커 이미지 생성하기\n    var imageSrc = \"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_red.png\",\n      // 마커이미지의 주소입니다\n      imageSize = new kakao.maps.Size(32, 34.5),\n      // 마커이미지의 크기입니다\n      imageOption = {\n        offset: new kakao.maps.Point(27, 69)\n      }; // 마커이미지의 옵션입니다. 마커의 좌표와 일치시킬 이미지 안에서의 좌표를 설정합니다.\n    var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption);\n    function displayCurrentMarker(locPosition) {\n      // 마커를 생성합니다\n      var CurrentMarker = new kakao.maps.Marker({\n        map: map,\n        position: locPosition,\n        image: markerImage // 마커이미지 설정\n      });\n\n      CurrentMarker.setMap(map);\n      // 지도 중심좌표를 접속위치로 변경합니다\n      map.setCenter(locPosition);\n    }\n    setMap(map);\n  }, [randomData]);\n  useEffect(() => {\n    if (_map === null) return;\n    //=========랜덤 10개 보여주기=======================================================================\n    var geocoder = new kakao.maps.services.Geocoder();\n    const showRestaurant = randomData.map(restaurant => {\n      geocoder.addressSearch(restaurant.numberAddress, function (result, status) {\n        // 정상적으로 검색이 완료됐으면\n        if (status === kakao.maps.services.Status.OK) {\n          const coords = new kakao.maps.LatLng(result[0].y, result[0].x);\n\n          // 결과값으로 받은 위치를 마커로 표시합니다\n          const marker = new kakao.maps.Marker({\n            map: _map,\n            position: coords\n          });\n\n          //=============마커의 오버레이(클릭 시 보여지는 css)========================================================\n          var content = document.createElement(\"div\");\n          content.className = \"wrap\";\n          var contentHeader = document.createElement(\"div\");\n          contentHeader.className = \"header\";\n          content.appendChild(contentHeader);\n          var HeaderTitle = document.createElement(\"p\");\n          HeaderTitle.innerHTML = restaurant.name;\n          contentHeader.appendChild(HeaderTitle);\n          var HeaderCloseBtn = document.createElement(\"div\");\n          HeaderCloseBtn.className = \"closeimgWrap\";\n          HeaderCloseBtn.innerHTML = '<img src=\"https://i.postimg.cc/ZYjNRKj6/close-white.png\"></img>';\n          HeaderCloseBtn.onclick = function () {\n            overlay.setMap(null);\n          };\n          contentHeader.appendChild(HeaderCloseBtn);\n          var infowrap = document.createElement(\"div\");\n          infowrap.className = \"infowrap\";\n          infowrap.innerHTML = '<div class=\"imgwrap\">' + \"<img src='\" + restaurant.thumbnail + \"'><img>\" + \"</div>\" + '<div class=\"info\">' + '<p class=\"address\">' + restaurant.numberAddress + \"</p>\" + '<p class=\"scope\">리뷰 ' + restaurant.review_rating + \"점</p>\" + '<p class=\"review\"> 리뷰' + restaurant.review_number + \"개</p>\" + \"</div>\";\n          content.appendChild(infowrap);\n\n          // 마커 위에 커스텀오버레이를 표시합니다\n          // 마커를 중심으로 커스텀 오버레이를 표시하기위해 CSS를 이용해 위치를 설정했습니다\n          const overlay = new kakao.maps.CustomOverlay({\n            content: content,\n            position: marker.getPosition()\n          });\n\n          // 마커를 클릭했을 때 커스텀 오버레이를 표시합니다\n          kakao.maps.event.addListener(marker, \"click\", function () {\n            overlay.setMap(_map);\n          });\n          //지도를 클릭했을 때 오버레이 닫기\n          kakao.maps.event.addListener(_map, \"click\", function (mouseEvent) {\n            overlay.setMap(null);\n          });\n        }\n      });\n    });\n  }, [_map]);\n\n  //지도 줌 인&줌 아웃\n  //https://leedaeho1188.tistory.com/51\n  const zoomIn = () => {\n    ChangeSize(_map.getLevel() - 1);\n    _map.setLevel(_map.getLevel() - 1);\n  };\n  const zoomOut = () => {\n    ChangeSize(_map.getLevel() + 1);\n    _map.setLevel(_map.getLevel() + 1);\n  };\n\n  //현재 위치로 부드럽게 이동시키기\n  const panTo = () => {\n    // 이동할 위도 경도 위치를 생성합니다\n    var moveLatLon = new kakao.maps.LatLng(currentX, currentY);\n    //현재 위치 버튼 클릭 시 줌 인\n    ChangeSize(4);\n    _map.setLevel(4);\n\n    // 지도 중심을 부드럽게 이동시킵니다\n    // 만약 이동할 거리가 지도 화면보다 크면 부드러운 효과 없이 이동합니다\n    _map.panTo(moveLatLon);\n  };\n\n  // 마우스 드래그로 지도 이동이 완료되었을 때 마지막 파라미터로 넘어온 함수를 호출하도록 이벤트를 등록합니다\n  const [centerData, setCenterData] = useState(null);\n  if (_map != null) {\n    kakao.maps.event.addListener(_map, \"dragend\", function () {\n      // 지도 중심좌표를 얻어옵니다\n      var latlng = _map.getCenter();\n      resetXY(latlng.getLat(), latlng.getLng());\n    });\n  }\n\n  //=========위치가 바뀔 때마다 주변 음식점 8개 보이기=====================================================\n  useEffect(() => {\n    if (_map === null) return;\n    CenterRestaurantAPI(data => {\n      setCenterData(data);\n    }, x, y, showURL);\n  }, [x, y, size, showURL]);\n  const [markers, setMarkers] = useState([]);\n  useEffect(() => {\n    if (centerData === null) return;\n    if (markers !== null) {\n      for (var i = 0; i < markers.length; i++) {\n        markers[i].setMap(null);\n      }\n      setMarkers([]);\n    }\n    const showCenterRestaurant = centerData.map(restaurant => {\n      var imageSrc = \"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png\";\n      // 마커 이미지의 이미지 크기 입니다\n      var imageSize = new kakao.maps.Size(24, 35);\n      // 마커 이미지를 생성합니다\n      var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);\n      const coords = new kakao.maps.LatLng(restaurant.lat, restaurant.lon);\n\n      // 마커를 생성합니다\n      var marker = new kakao.maps.Marker({\n        map: _map,\n        // 마커를 표시할 지도\n        position: coords,\n        // 마커를 표시할 위치\n        image: markerImage // 마커 이미지\n      });\n\n      setMarkers(markers => [...markers, marker]);\n\n      //=============마커의 오버레이(클릭 시 보여지는 css)========================================================\n      var content = document.createElement(\"div\");\n      content.className = \"wrap\";\n      var contentHeader = document.createElement(\"div\");\n      contentHeader.className = \"header\";\n      content.appendChild(contentHeader);\n      var HeaderTitle = document.createElement(\"p\");\n      HeaderTitle.innerHTML = restaurant.name;\n      contentHeader.appendChild(HeaderTitle);\n      var HeaderCloseBtn = document.createElement(\"div\");\n      HeaderCloseBtn.className = \"closeimgWrap\";\n      HeaderCloseBtn.innerHTML = '<img src=\"https://i.postimg.cc/ZYjNRKj6/close-white.png\"></img>';\n      HeaderCloseBtn.onclick = function () {\n        overlay.setMap(null);\n      };\n      contentHeader.appendChild(HeaderCloseBtn);\n      var infowrap = document.createElement(\"div\");\n      infowrap.className = \"infowrap\";\n      infowrap.innerHTML = '<div class=\"imgwrap\">' + \"<img src='\" + restaurant.thumbnail + \"'><img>\" + \"</div>\" + '<div class=\"info\">' + '<p class=\"address\">' + restaurant.numberAddress + \"</p>\" + '<p class=\"scope\">리뷰 ' + restaurant.review_rating + \"점</p>\" + '<p class=\"review\"> 리뷰' + restaurant.review_number + \"개</p>\" + \"</div>\";\n      content.appendChild(infowrap);\n\n      // 마커 위에 커스텀오버레이를 표시합니다\n      // 마커를 중심으로 커스텀 오버레이를 표시하기위해 CSS를 이용해 위치를 설정했습니다\n      const overlay = new kakao.maps.CustomOverlay({\n        content: content,\n        position: marker.getPosition()\n      });\n\n      // 마커를 클릭했을 때 커스텀 오버레이를 표시합니다\n      kakao.maps.event.addListener(marker, \"click\", function () {\n        overlay.setMap(_map);\n      });\n      //지도를 클릭했을 때 오버레이 닫기\n      kakao.maps.event.addListener(_map, \"click\", function (mouseEvent) {\n        overlay.setMap(null);\n      });\n    });\n  }, [centerData, size]);\n\n  //============지역 선택 시, 중심 좌표 이동 및 맵 이동=======================================================================\n  useEffect(() => {\n    if (_map === null) return;\n    var geocoder = new kakao.maps.services.Geocoder();\n    const location = bigLocation + \" \" + smallLocation;\n    geocoder.addressSearch(location, function (result, status) {\n      if (status === kakao.maps.services.Status.OK) {\n        var coords = new kakao.maps.LatLng(result[0].y, result[0].x);\n        _map.setCenter(coords);\n        resetXY(result[0].y, result[0].x);\n        ChangeSize(4);\n      }\n    });\n  }, [bigLocation, smallLocation, _map]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(KaKaoMap, {\n      id: \"map\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MapBtns, {\n      children: [/*#__PURE__*/_jsxDEV(MapBtnsLeft, {\n        children: [/*#__PURE__*/_jsxDEV(SelectRegion, {\n          onClick: props.openRegion,\n          children: \"\\uC9C0\\uC5ED \\uC120\\uD0DD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Location, {\n          top: \"120\",\n          onClick: panTo,\n          children: /*#__PURE__*/_jsxDEV(ImgComponent, {\n            src: \"gps.png\",\n            width: \"100%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapBtnsRight, {\n        children: [/*#__PURE__*/_jsxDEV(MapSize, {\n          top: \"0\",\n          onClick: zoomIn,\n          children: /*#__PURE__*/_jsxDEV(ImgComponent, {\n            src: \"plus.png\",\n            width: \"100%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MapSize, {\n          top: \"120\",\n          onClick: zoomOut,\n          children: /*#__PURE__*/_jsxDEV(ImgComponent, {\n            src: \"minus.png\",\n            width: \"100%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(CreateMap, \"vAtfF/if3UUBfGW5VxPyZlSYvzY=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useDispatch, useSelector];\n});\n_c = CreateMap;\nconst KaKaoMap = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n_c2 = KaKaoMap;\nconst MapBtns = styled.div`\n  position: absolute;\n  left: 50%;\n  width: 90%;\n  transform: translateX(-50%);\n  top: 7%;\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n_c3 = MapBtns;\nconst BtnStyle = styled.div`\n  background: #16312c;\n  border-radius: 10px;\n  color: #fff;\n  font-weight: 700;\n  font-size: 18px;\n  padding: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 20px;\n`;\nconst MapBtnsLeft = styled.div``;\n_c4 = MapBtnsLeft;\nconst MapBtnsRight = styled.div``;\n_c5 = MapBtnsRight;\nconst SelectRegion = styled(BtnStyle)``;\n_c6 = SelectRegion;\nconst Location = styled(BtnStyle)`\n  width: 20px;\n  margin-top: 10px;\n`;\n_c7 = Location;\nconst MapSize = styled(BtnStyle)`\n  width: 20px;\n  margin-bottom: 5px;\n  margin-top: 5px;\n`;\n_c8 = MapSize;\nexport default CreateMap;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"CreateMap\");\n$RefreshReg$(_c2, \"KaKaoMap\");\n$RefreshReg$(_c3, \"MapBtns\");\n$RefreshReg$(_c4, \"MapBtnsLeft\");\n$RefreshReg$(_c5, \"MapBtnsRight\");\n$RefreshReg$(_c6, \"SelectRegion\");\n$RefreshReg$(_c7, \"Location\");\n$RefreshReg$(_c8, \"MapSize\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","useDispatch","useSelector","styled","ImgComponent","resetxy","changeSize","currentxy","MapRamdomAPI","CenterRestaurantAPI","kakao","window","CreateMap","props","x","state","map","y","currentX","currentY","size","number","bigLocation","location","smallLocation","dispatch","resetXY","currentXY","ChangeSize","_map","setMap","showURL","urlChange","name","randomData","setRandomData","data","mapContainer","document","getElementById","mapOption","center","maps","LatLng","level","Map","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lon","longitude","locPosition","displayCurrentMarker","message","imageSrc","imageSize","Size","imageOption","offset","Point","markerImage","MarkerImage","CurrentMarker","Marker","image","setCenter","geocoder","services","Geocoder","showRestaurant","restaurant","addressSearch","numberAddress","result","status","Status","OK","marker","content","createElement","className","contentHeader","appendChild","HeaderTitle","innerHTML","HeaderCloseBtn","onclick","overlay","infowrap","thumbnail","review_rating","review_number","CustomOverlay","getPosition","event","addListener","mouseEvent","zoomIn","getLevel","setLevel","zoomOut","panTo","moveLatLon","centerData","setCenterData","latlng","getCenter","getLat","getLng","markers","setMarkers","i","length","showCenterRestaurant","openRegion","KaKaoMap","div","MapBtns","BtnStyle","MapBtnsLeft","MapBtnsRight","SelectRegion","Location","MapSize"],"sources":["C:/Users/rainn/Desktop/ReviewBoard/front-end/src/components/map/CreateMap.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport \"../../style/map.scss\";\r\n\r\nimport ImgComponent from \"./../ImageComponent\";\r\nimport { resetxy, changeSize, currentxy } from \"../../modules/map\";\r\n\r\nimport { MapRamdomAPI } from \"./../../api/MapRamdom\";\r\nimport { CenterRestaurantAPI } from \"./../../api/CenterRestaurant\";\r\n\r\nconst { kakao } = window;\r\n\r\nconst CreateMap = (props) => {\r\n  const x = useSelector((state) => state.map.x);\r\n  const y = useSelector((state) => state.map.y);\r\n  const currentX = useSelector((state) => state.map.currentX);\r\n  const currentY = useSelector((state) => state.map.currentY);\r\n  const size = useSelector((state) => state.map.number);\r\n  const bigLocation = useSelector((state) => state.location.bigLocation);\r\n  const smallLocation = useSelector((state) => state.location.smallLocation);\r\n  const dispatch = useDispatch();\r\n  const resetXY = useCallback((x, y) => dispatch(resetxy(x, y)), [dispatch]);\r\n  const currentXY = useCallback(\r\n    (x, y) => dispatch(currentxy(x, y)),\r\n    [dispatch]\r\n  );\r\n  const ChangeSize = useCallback(\r\n    (number) => dispatch(changeSize(number)),\r\n    [dispatch]\r\n  );\r\n  const [_map, setMap] = useState(null);\r\n  const showURL = useSelector((state) => state.urlChange.name);\r\n\r\n  //랜덤 값 저장\r\n  const [randomData, setRandomData] = useState(null);\r\n  useEffect(() => {\r\n    MapRamdomAPI((data) => {\r\n      setRandomData(data);\r\n    }, showURL);\r\n  }, [showURL]);\r\n\r\n  //=========맵 생성=========================\r\n  useEffect(() => {\r\n    //랜덤 10개 받아오기 전일 때\r\n    if (randomData === null) {\r\n      const mapContainer = document.getElementById(\"map\"), // 지도를 표시할 div\r\n        mapOption = {\r\n          center: new kakao.maps.LatLng(x, y), // 지도의 중심좌표\r\n          level: size, // 지도의 확대 레벨\r\n        };\r\n\r\n      // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다\r\n      const map = new kakao.maps.Map(mapContainer, mapOption);\r\n      return;\r\n    }\r\n\r\n    const mapContainer = document.getElementById(\"map\"), // 지도를 표시할 div\r\n      mapOption = {\r\n        center: new kakao.maps.LatLng(x, y), // 지도의 중심좌표\r\n        level: size, // 지도의 확대 레벨\r\n      };\r\n\r\n    // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다\r\n    const map = new kakao.maps.Map(mapContainer, mapOption);\r\n\r\n    //=========현재 위치 마커 생성=======================================================================\r\n    if (navigator.geolocation) {\r\n      // GeoLocation을 이용해서 접속 위치를 얻어옵니다\r\n      navigator.geolocation.getCurrentPosition(function (position) {\r\n        var lat = position.coords.latitude, // 위도\r\n          lon = position.coords.longitude; // 경도\r\n        var locPosition = new kakao.maps.LatLng(lat, lon); // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\r\n        currentXY(lat, lon);\r\n\r\n        // 마커와 인포윈도우를 표시합니다\r\n        displayCurrentMarker(locPosition);\r\n      });\r\n    } else {\r\n      // HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다\r\n      var locPosition = new kakao.maps.LatLng(x, y),\r\n        message = \"geolocation을 사용할수 없어요..\";\r\n\r\n      displayCurrentMarker(locPosition, message);\r\n    }\r\n\r\n    // 지도에 마커와 인포윈도우를 표시하는 함수입니다\r\n    //마커 이미지 생성하기\r\n    var imageSrc =\r\n        \"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_red.png\", // 마커이미지의 주소입니다\r\n      imageSize = new kakao.maps.Size(32, 34.5), // 마커이미지의 크기입니다\r\n      imageOption = { offset: new kakao.maps.Point(27, 69) }; // 마커이미지의 옵션입니다. 마커의 좌표와 일치시킬 이미지 안에서의 좌표를 설정합니다.\r\n    var markerImage = new kakao.maps.MarkerImage(\r\n      imageSrc,\r\n      imageSize,\r\n      imageOption\r\n    );\r\n    function displayCurrentMarker(locPosition) {\r\n      // 마커를 생성합니다\r\n      var CurrentMarker = new kakao.maps.Marker({\r\n        map: map,\r\n        position: locPosition,\r\n        image: markerImage, // 마커이미지 설정\r\n      });\r\n      CurrentMarker.setMap(map);\r\n      // 지도 중심좌표를 접속위치로 변경합니다\r\n      map.setCenter(locPosition);\r\n    }\r\n\r\n    setMap(map);\r\n  }, [randomData]);\r\n\r\n  useEffect(() => {\r\n    if (_map === null) return;\r\n    //=========랜덤 10개 보여주기=======================================================================\r\n    var geocoder = new kakao.maps.services.Geocoder();\r\n    const showRestaurant = randomData.map((restaurant) => {\r\n      geocoder.addressSearch(\r\n        restaurant.numberAddress,\r\n        function (result, status) {\r\n          // 정상적으로 검색이 완료됐으면\r\n          if (status === kakao.maps.services.Status.OK) {\r\n            const coords = new kakao.maps.LatLng(result[0].y, result[0].x);\r\n\r\n            // 결과값으로 받은 위치를 마커로 표시합니다\r\n            const marker = new kakao.maps.Marker({\r\n              map: _map,\r\n              position: coords,\r\n            });\r\n\r\n            //=============마커의 오버레이(클릭 시 보여지는 css)========================================================\r\n            var content = document.createElement(\"div\");\r\n            content.className = \"wrap\";\r\n\r\n            var contentHeader = document.createElement(\"div\");\r\n            contentHeader.className = \"header\";\r\n            content.appendChild(contentHeader);\r\n\r\n            var HeaderTitle = document.createElement(\"p\");\r\n            HeaderTitle.innerHTML = restaurant.name;\r\n            contentHeader.appendChild(HeaderTitle);\r\n\r\n            var HeaderCloseBtn = document.createElement(\"div\");\r\n            HeaderCloseBtn.className = \"closeimgWrap\";\r\n            HeaderCloseBtn.innerHTML =\r\n              '<img src=\"https://i.postimg.cc/ZYjNRKj6/close-white.png\"></img>';\r\n            HeaderCloseBtn.onclick = function () {\r\n              overlay.setMap(null);\r\n            };\r\n            contentHeader.appendChild(HeaderCloseBtn);\r\n\r\n            var infowrap = document.createElement(\"div\");\r\n            infowrap.className = \"infowrap\";\r\n            infowrap.innerHTML =\r\n              '<div class=\"imgwrap\">' +\r\n              \"<img src='\" +\r\n              restaurant.thumbnail +\r\n              \"'><img>\" +\r\n              \"</div>\" +\r\n              '<div class=\"info\">' +\r\n              '<p class=\"address\">' +\r\n              restaurant.numberAddress +\r\n              \"</p>\" +\r\n              '<p class=\"scope\">리뷰 ' +\r\n              restaurant.review_rating +\r\n              \"점</p>\" +\r\n              '<p class=\"review\"> 리뷰' +\r\n              restaurant.review_number +\r\n              \"개</p>\" +\r\n              \"</div>\";\r\n            content.appendChild(infowrap);\r\n\r\n            // 마커 위에 커스텀오버레이를 표시합니다\r\n            // 마커를 중심으로 커스텀 오버레이를 표시하기위해 CSS를 이용해 위치를 설정했습니다\r\n            const overlay = new kakao.maps.CustomOverlay({\r\n              content: content,\r\n              position: marker.getPosition(),\r\n            });\r\n\r\n            // 마커를 클릭했을 때 커스텀 오버레이를 표시합니다\r\n            kakao.maps.event.addListener(marker, \"click\", function () {\r\n              overlay.setMap(_map);\r\n            });\r\n            //지도를 클릭했을 때 오버레이 닫기\r\n            kakao.maps.event.addListener(_map, \"click\", function (mouseEvent) {\r\n              overlay.setMap(null);\r\n            });\r\n          }\r\n        }\r\n      );\r\n    });\r\n  }, [_map]);\r\n\r\n  //지도 줌 인&줌 아웃\r\n  //https://leedaeho1188.tistory.com/51\r\n  const zoomIn = () => {\r\n    ChangeSize(_map.getLevel() - 1);\r\n    _map.setLevel(_map.getLevel() - 1);\r\n  };\r\n\r\n  const zoomOut = () => {\r\n    ChangeSize(_map.getLevel() + 1);\r\n    _map.setLevel(_map.getLevel() + 1);\r\n  };\r\n\r\n  //현재 위치로 부드럽게 이동시키기\r\n  const panTo = () => {\r\n    // 이동할 위도 경도 위치를 생성합니다\r\n    var moveLatLon = new kakao.maps.LatLng(currentX, currentY);\r\n    //현재 위치 버튼 클릭 시 줌 인\r\n    ChangeSize(4);\r\n    _map.setLevel(4);\r\n\r\n    // 지도 중심을 부드럽게 이동시킵니다\r\n    // 만약 이동할 거리가 지도 화면보다 크면 부드러운 효과 없이 이동합니다\r\n    _map.panTo(moveLatLon);\r\n  };\r\n\r\n  // 마우스 드래그로 지도 이동이 완료되었을 때 마지막 파라미터로 넘어온 함수를 호출하도록 이벤트를 등록합니다\r\n  const [centerData, setCenterData] = useState(null);\r\n\r\n  if (_map != null) {\r\n    kakao.maps.event.addListener(_map, \"dragend\", function () {\r\n      // 지도 중심좌표를 얻어옵니다\r\n      var latlng = _map.getCenter();\r\n      resetXY(latlng.getLat(), latlng.getLng());\r\n    });\r\n  }\r\n\r\n  //=========위치가 바뀔 때마다 주변 음식점 8개 보이기=====================================================\r\n  useEffect(() => {\r\n    if (_map === null) return;\r\n    CenterRestaurantAPI(\r\n      (data) => {\r\n        setCenterData(data);\r\n      },\r\n      x,\r\n      y,\r\n      showURL\r\n    );\r\n  }, [x, y, size, showURL]);\r\n\r\n  const [markers, setMarkers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (centerData === null) return;\r\n\r\n    if (markers !== null) {\r\n      for (var i = 0; i < markers.length; i++) {\r\n        markers[i].setMap(null);\r\n      }\r\n      setMarkers([]);\r\n    }\r\n\r\n    const showCenterRestaurant = centerData.map((restaurant) => {\r\n      var imageSrc =\r\n        \"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png\";\r\n      // 마커 이미지의 이미지 크기 입니다\r\n      var imageSize = new kakao.maps.Size(24, 35);\r\n      // 마커 이미지를 생성합니다\r\n      var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);\r\n      const coords = new kakao.maps.LatLng(restaurant.lat, restaurant.lon);\r\n\r\n      // 마커를 생성합니다\r\n      var marker = new kakao.maps.Marker({\r\n        map: _map, // 마커를 표시할 지도\r\n        position: coords, // 마커를 표시할 위치\r\n        image: markerImage, // 마커 이미지\r\n      });\r\n      setMarkers((markers) => [...markers, marker]);\r\n\r\n      //=============마커의 오버레이(클릭 시 보여지는 css)========================================================\r\n      var content = document.createElement(\"div\");\r\n      content.className = \"wrap\";\r\n\r\n      var contentHeader = document.createElement(\"div\");\r\n      contentHeader.className = \"header\";\r\n      content.appendChild(contentHeader);\r\n\r\n      var HeaderTitle = document.createElement(\"p\");\r\n      HeaderTitle.innerHTML = restaurant.name;\r\n      contentHeader.appendChild(HeaderTitle);\r\n\r\n      var HeaderCloseBtn = document.createElement(\"div\");\r\n      HeaderCloseBtn.className = \"closeimgWrap\";\r\n      HeaderCloseBtn.innerHTML =\r\n        '<img src=\"https://i.postimg.cc/ZYjNRKj6/close-white.png\"></img>';\r\n      HeaderCloseBtn.onclick = function () {\r\n        overlay.setMap(null);\r\n      };\r\n      contentHeader.appendChild(HeaderCloseBtn);\r\n\r\n      var infowrap = document.createElement(\"div\");\r\n      infowrap.className = \"infowrap\";\r\n      infowrap.innerHTML =\r\n        '<div class=\"imgwrap\">' +\r\n        \"<img src='\" +\r\n        restaurant.thumbnail +\r\n        \"'><img>\" +\r\n        \"</div>\" +\r\n        '<div class=\"info\">' +\r\n        '<p class=\"address\">' +\r\n        restaurant.numberAddress +\r\n        \"</p>\" +\r\n        '<p class=\"scope\">리뷰 ' +\r\n        restaurant.review_rating +\r\n        \"점</p>\" +\r\n        '<p class=\"review\"> 리뷰' +\r\n        restaurant.review_number +\r\n        \"개</p>\" +\r\n        \"</div>\";\r\n      content.appendChild(infowrap);\r\n\r\n      // 마커 위에 커스텀오버레이를 표시합니다\r\n      // 마커를 중심으로 커스텀 오버레이를 표시하기위해 CSS를 이용해 위치를 설정했습니다\r\n      const overlay = new kakao.maps.CustomOverlay({\r\n        content: content,\r\n        position: marker.getPosition(),\r\n      });\r\n\r\n      // 마커를 클릭했을 때 커스텀 오버레이를 표시합니다\r\n      kakao.maps.event.addListener(marker, \"click\", function () {\r\n        overlay.setMap(_map);\r\n      });\r\n      //지도를 클릭했을 때 오버레이 닫기\r\n      kakao.maps.event.addListener(_map, \"click\", function (mouseEvent) {\r\n        overlay.setMap(null);\r\n      });\r\n    });\r\n  }, [centerData, size]);\r\n\r\n  //============지역 선택 시, 중심 좌표 이동 및 맵 이동=======================================================================\r\n  useEffect(() => {\r\n    if (_map === null) return;\r\n\r\n    var geocoder = new kakao.maps.services.Geocoder();\r\n    const location = bigLocation + \" \" + smallLocation;\r\n    geocoder.addressSearch(location, function (result, status) {\r\n      if (status === kakao.maps.services.Status.OK) {\r\n        var coords = new kakao.maps.LatLng(result[0].y, result[0].x);\r\n\r\n        _map.setCenter(coords);\r\n        resetXY(result[0].y, result[0].x);\r\n        ChangeSize(4);\r\n      }\r\n    });\r\n  }, [bigLocation, smallLocation, _map]);\r\n\r\n  return (\r\n    <>\r\n      <KaKaoMap id=\"map\"></KaKaoMap>\r\n      <MapBtns>\r\n        <MapBtnsLeft>\r\n          <SelectRegion onClick={props.openRegion}>지역 선택</SelectRegion>\r\n          <Location top=\"120\" onClick={panTo}>\r\n            <ImgComponent src={\"gps.png\"} width={\"100%\"} />\r\n          </Location>\r\n        </MapBtnsLeft>\r\n        <MapBtnsRight>\r\n          <MapSize top=\"0\" onClick={zoomIn}>\r\n            <ImgComponent src={\"plus.png\"} width={\"100%\"} />\r\n          </MapSize>\r\n          <MapSize top=\"120\" onClick={zoomOut}>\r\n            <ImgComponent src={\"minus.png\"} width={\"100%\"} />\r\n          </MapSize>\r\n        </MapBtnsRight>\r\n      </MapBtns>\r\n    </>\r\n  );\r\n};\r\n\r\nconst KaKaoMap = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst MapBtns = styled.div`\r\n  position: absolute;\r\n  left: 50%;\r\n  width: 90%;\r\n  transform: translateX(-50%);\r\n  top: 7%;\r\n  z-index: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\nconst BtnStyle = styled.div`\r\n  background: #16312c;\r\n  border-radius: 10px;\r\n  color: #fff;\r\n  font-weight: 700;\r\n  font-size: 18px;\r\n  padding: 10px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 20px;\r\n`;\r\nconst MapBtnsLeft = styled.div``;\r\nconst MapBtnsRight = styled.div``;\r\nconst SelectRegion = styled(BtnStyle)``;\r\nconst Location = styled(BtnStyle)`\r\n  width: 20px;\r\n  margin-top: 10px;\r\n`;\r\nconst MapSize = styled(BtnStyle)`\r\n  width: 20px;\r\n  margin-bottom: 5px;\r\n  margin-top: 5px;\r\n`;\r\n\r\nexport default CreateMap;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}